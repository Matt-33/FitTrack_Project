@use "../styles/variables" as v;

.programs-page {
	--radius: 14px;

	.hero {
		background: radial-gradient(
				1200px 400px at 20% -10%,
				rgba(59, 130, 246, 0.25),
				transparent
			),
			radial-gradient(
				1000px 380px at 80% -20%,
				rgba(0, 119, 255, 0.2),
				transparent
			),
			v.$secondary-color;
		border-bottom: 1px solid rgba(255, 255, 255, 0.06);

		.hero__content {
			max-width: 1100px;
			margin: 0 auto;
			padding: 2.5rem 1.25rem;

			h1 {
				margin: 0 0 0.25rem;
				font-size: clamp(1.5rem, 3vw, 2rem);
				color: v.$text-color;
			}
			p {
				margin: 0;
				opacity: 0.85;
			}
		}
	}

	.filters {
		max-width: 1100px;
		margin: 1rem auto 0;
		padding: 1rem 1.25rem;
		display: grid;
		grid-template-columns: 1fr auto auto auto;
		gap: 0.75rem;

		input,
		select {
			background: #151515;
			color: v.$text-color;
			border: 1px solid #2a2a2a;
			border-radius: 10px;
			padding: 0.75rem 0.85rem;
			outline: none;
			&:focus {
				border-color: v.$primary-color;
			}
		}

		.btn {
			border-radius: 10px;
			padding: 0.75rem 1rem;
			font-weight: 600;
			cursor: pointer;
			border: 1px solid #2a2a2a;
			background: transparent;
			color: #ddd;
			transition: filter 0.2s ease, border-color 0.2s ease;
			&:hover {
				filter: brightness(1.05);
				border-color: #3a3a3a;
			}
		}

		@media (max-width: v.$breakpoint-tablet) {
			grid-template-columns: 1fr 1fr;
		}
		@media (max-width: v.$breakpoint-mobile) {
			grid-template-columns: 1fr;
		}
	}

	.programs {
		max-width: 1100px;
		margin: 1rem auto 2rem;
		padding: 0 1.25rem;

		.grid {
			display: grid;
			grid-template-columns: repeat(3, minmax(0, 1fr));
			gap: 16px;

			@media (max-width: v.$breakpoint-desktop) {
				grid-template-columns: repeat(2, minmax(0, 1fr));
			}
			@media (max-width: v.$breakpoint-tablet) {
				grid-template-columns: 1fr;
			}
		}

		.empty {
			background: #151515;
			border: 1px solid #2a2a2a;
			border-radius: var(--radius);
			padding: 1.25rem;
			text-align: center;
			opacity: 0.9;
		}
	}

	.program-card {
		position: relative;
		overflow: hidden;
		background: linear-gradient(
				180deg,
				rgba(255, 255, 255, 0.02),
				rgba(255, 255, 255, 0)
			),
			#161616;
		border: 1px solid rgba(255, 255, 255, 0.06);
		border-radius: var(--radius);
		padding: 16px;
		display: grid;
		gap: 10px;
		transition: transform 0.2s ease, box-shadow 0.2s ease,
			border-color 0.2s ease;

		&::before {
			content: "";
			position: absolute;
			inset: 0;
			background: radial-gradient(
				500px 120px at 10% -20%,
				rgba(0, 119, 255, 0.14),
				transparent
			);
			pointer-events: none;
		}

		&:hover {
			transform: translateY(-2px);
			box-shadow: 0 12px 36px rgba(0, 0, 0, 0.35);
			border-color: rgba(255, 255, 255, 0.1);
		}

		.card-top {
			display: flex;
			align-items: flex-start;
			justify-content: space-between;
			gap: 12px;

			.title {
				margin: 0;
				font-size: 1.05rem;
				color: v.$text-color;
			}

			.badges {
				display: flex;
				gap: 6px;
				flex-wrap: wrap;

				.badge {
					border-radius: 999px;
					padding: 0.25rem 0.6rem;
					font-size: 0.75rem;
					line-height: 1;
					border: 1px solid rgba(255, 255, 255, 0.12);
					background: rgba(255, 255, 255, 0.06);
					color: #eaeaea;
					&.badge-goal {
						border-color: rgba(0, 119, 255, 0.35);
					}
				}

				.badge-level.debutant {
					color: #86efac;
					border-color: rgba(34, 197, 94, 0.45);
				}
				.badge-level.intermediaire {
					color: #93c5fd;
					border-color: rgba(59, 130, 246, 0.45);
				}
				.badge-level.avance {
					color: #fca5a5;
					border-color: rgba(239, 68, 68, 0.45);
				}
			}
		}

		.desc {
			margin: 0;
			opacity: 0.9;
			color: #e7e7e7;
			display: -webkit-box;
			-webkit-line-clamp: 3;
			-webkit-box-orient: vertical;
			overflow: hidden;
			min-height: 3.6em; // pour stabiliser la hauteur si description courte
		}

		.footer {
			display: flex;
			align-items: center;
			justify-content: space-between;
			gap: 12px;
			margin-top: 2px;

			.coach {
				display: inline-flex;
				align-items: center;
				gap: 8px;
				.avatar {
					width: 34px;
					height: 34px;
					border-radius: 50%;
					display: grid;
					place-items: center;
					font-weight: 700;
					background: linear-gradient(
						135deg,
						v.$primary-color,
						#6aa8ff
					);
					color: white;
				}
				.coach-name {
					opacity: 0.95;
					font-weight: 600;
				}
			}

			.btn {
				border: 0;
				border-radius: 10px;
				padding: 0.6rem 0.9rem;
				cursor: pointer;
				font-weight: 600;
				transition: filter 0.2s ease, transform 0.05s ease;
				&:hover {
					filter: brightness(1.05);
				}
				&:active {
					transform: translateY(1px);
				}
				&:disabled {
					opacity: 0.7;
					cursor: not-allowed;
				}
			}
			.btn-primary {
				background: v.$primary-color;
				color: #fff;
			}
			.btn-success {
				background: #22c55e;
			}
		}
	}

	/* Skeleton states */
	@keyframes shimmer {
		0% {
			background-position: -500px 0;
		}
		100% {
			background-position: 500px 0;
		}
	}

	.program-card.skeleton {
		.sk-title,
		.sk-row,
		.sk-footer {
			height: 12px;
			border-radius: 8px;
			background: linear-gradient(
				90deg,
				#1b1b1b 0%,
				#222 50%,
				#1b1b1b 100%
			);
			background-size: 500px 100%;
			animation: shimmer 1.2s infinite linear;
		}
		.sk-title {
			width: 70%;
			height: 16px;
		}
		.sk-row {
			width: 100%;
		}
		.sk-footer {
			width: 40%;
		}
		display: grid;
		gap: 10px;
	}
}
