@use "../styles/variables" as v;

.create-program {
	max-width: 980px;
	margin: 2rem auto;
	color: v.$text-color;
	padding: 0 1rem;

	h2 {
		margin: 0 0 1rem;
		text-align: center;
		color: v.$primary-color;
	}

	&.restricted {
		max-width: 640px;
		text-align: center;
		background: linear-gradient(
				180deg,
				rgba(255, 255, 255, 0.02),
				rgba(255, 255, 255, 0)
			),
			#161616;
		border: 1px solid rgba(255, 255, 255, 0.06);
		border-radius: 14px;
		padding: 1.25rem;
	}

	.form {
		background: radial-gradient(
				900px 360px at 85% -15%,
				rgba(0, 119, 255, 0.12),
				transparent
			),
			linear-gradient(
				180deg,
				rgba(255, 255, 255, 0.02),
				rgba(255, 255, 255, 0)
			),
			#161616;
		border: 1px solid rgba(255, 255, 255, 0.06);
		border-radius: 14px;
		box-shadow: 0 12px 36px rgba(0, 0, 0, 0.35);
		padding: 16px;
		display: grid;
		gap: 1rem;
	}

	.form-row {
		display: grid;
		gap: 0.5rem;

		&.two-cols {
			grid-template-columns: 1fr 1fr;
			gap: 0.8rem;
		}
	}

	label {
		font-weight: 700;
	}

	input,
	select,
	textarea {
		padding: 0.8rem 0.9rem;
		border-radius: 10px;
		border: 1px solid #2a2a2a;
		background: #151515;
		color: v.$text-color;
		outline: none;
		transition: border-color 0.2s ease, box-shadow 0.2s ease;
		&:focus {
			border-color: v.$primary-color;
			box-shadow: 0 0 0 3px rgba(0, 119, 255, 0.15);
		}
	}

	.checkbox {
		display: inline-flex;
		align-items: center;
		gap: 0.6rem;

		input[type="checkbox"] {
			width: 18px;
			height: 18px;
			accent-color: v.$primary-color;
		}
	}

	.form-error {
		background: #3a1212;
		border: 1px solid #6e1d1d;
		color: #ffd7d7;
		padding: 0.6rem 0.8rem;
		border-radius: 10px;
		margin: 0;
		text-align: center;
	}

	/* ===== Exercices ===== */
	.exercises-block {
		border-top: 1px solid rgba(255, 255, 255, 0.06);
		padding-top: 0.5rem;

		.empty-ex {
			background: #151515;
			border: 1px solid #2a2a2a;
			border-radius: 12px;
			padding: 0.8rem 1rem;
			text-align: center;
			opacity: 0.95;
		}

		.exercise-list {
			display: grid;
			gap: 0.6rem;
			margin-top: 0.25rem;
		}

		.exercise-row {
			display: grid;
			grid-template-columns: 2fr auto 0.7fr 1fr 0.7fr auto;
			gap: 0.5rem;
			align-items: center;

			@media (max-width: v.$breakpoint-desktop) {
				grid-template-columns: 1fr 0.7fr 1fr 0.7fr auto;
				/* Le bouton "Nouveau" passe Ã  la ligne suivante si besoin */
				& > .btn.btn-ghost.small:first-of-type {
					grid-column: 1 / -1;
					justify-self: start;
				}
			}

			@media (max-width: v.$breakpoint-tablet) {
				grid-template-columns: 1fr;
			}

			.new-ex {
				display: grid;
				grid-template-columns: 1fr auto auto;
				gap: 0.5rem;
				align-items: center;

				@media (max-width: v.$breakpoint-tablet) {
					grid-template-columns: 1fr;
				}
			}
		}

		.add-row {
			margin-top: 0.25rem;
		}
	}

	.actions {
		display: flex;
		justify-content: flex-end;
	}

	.btn {
		border: 0;
		border-radius: 10px;
		padding: 0.7rem 1rem;
		font-weight: 700;
		cursor: pointer;
		transition: filter 0.2s ease, transform 0.05s ease,
			border-color 0.2s ease;

		&:hover {
			filter: brightness(1.05);
		}
		&:active {
			transform: translateY(1px);
		}
		&:disabled {
			opacity: 0.7;
			cursor: not-allowed;
		}

		&.small {
			padding: 0.5rem 0.7rem;
		}
	}

	.btn-primary {
		background: v.$primary-color;
		color: #fff;
		border: 1px solid transparent;
	}

	.btn-outline {
		background: transparent;
		color: v.$primary-color;
		border: 1px solid v.$primary-color;
	}

	.btn-ghost {
		background: transparent;
		color: #ddd;
		border: 1px solid #333;
	}

	.btn-link {
		background: transparent;
		color: v.$primary-color;
		border: 0;
		padding: 0.4rem 0;
		font-weight: 700;
		&:hover {
			text-decoration: underline;
		}
	}

	@media (max-width: v.$breakpoint-desktop) {
		.form-row.two-cols {
			grid-template-columns: 1fr;
		}
	}

	@media (max-width: v.$breakpoint-tablet) {
		.form {
			padding: 12px;
		}
	}

	@media (max-width: v.$breakpoint-mobile) {
		.form {
			padding: 10px;
		}
	}
}
